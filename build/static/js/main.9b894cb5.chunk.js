(this.webpackJsonpopensunday=this.webpackJsonpopensunday||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"locations":"/api/locations"}')},37:function(e,n,t){e.exports=t.p+"static/media/loading.c5590569.svg"},39:function(e,n,t){e.exports=t(57)},44:function(e,n,t){},46:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(17),o=t.n(r),i=(t(44),t(9)),l=t.n(i),s=t(12),u=t(26),p=t(28),m=t(29),h=t(33),d=t(34),f=(t(46),t(13)),v=function(e,n,t){return E.apply(this,arguments)};function E(){return(E=Object(s.a)(l.a.mark((function e(n,t,a){var c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return c=e.sent,e.next=6,fetch(n,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.next=18,a();case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var g=t(18),b=t(37),k=t.n(b),w=function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("img",{src:k.a,alt:"Loading"}))},y=t(11);t(50),t(51);function O(e){var n=e.name,t=e.isOpen;return c.a.createElement("div",{className:"location"},c.a.createElement("h2",null,n),c.a.createElement("div",null,"Open on Sunday : ",t?c.a.createElement("span",null,"\u2714"):c.a.createElement("span",null,"\u274c")))}function j(e){var n=+e.match.params.id,t=Object(a.useState)(null),r=Object(u.a)(t,2),o=r[0],i=r[1],p=Object(f.b)(),m=p.loginWithRedirect,h=p.getAccessTokenSilently;return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("".concat("https://grp13.backend.p645.hevs.ch").concat(g.locations,"/").concat(n),h,m);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,h,m]),c.a.createElement("div",null,o?c.a.createElement(O,o):c.a.createElement("p",null,"Loading details..."),c.a.createElement(y.b,{className:"App-link",to:"/"},"Back"))}var x=t(38),A=t(32),N=t(61),L=t(62),S=t(60),W=t(63);t(56),c.a.Component,c.a.Component;var B=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(f.b)(),i=o.loading,p=o.loginWithRedirect,m=o.logout,h=o.getAccessTokenSilently,d=o.isAuthenticated,E=function(){var e=Object(s.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,v("".concat("https://grp13.backend.p645.hevs.ch").concat(g.locations),h,p);case 3:(t=e.sent)&&t.length>0&&(console.log(t),r(t));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),m({returnTo:window.location.origin});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return i?c.a.createElement(w,null):c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},d&&c.a.createElement("a",{className:"App-link Logout-link",href:"#",onClick:b},"Logout"),c.a.createElement("h1",null,"OpenSunday"),c.a.createElement("br",null),c.a.createElement(y.a,null,c.a.createElement(x.a,null,c.a.createElement(A.a,{path:"/",exact:!0,render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{className:"App-link",href:"#",onClick:E},"Get Locations"),t&&t.length>0&&c.a.createElement("ul",{className:"Locations-List"},t.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(y.b,{className:"App-link",to:"/location/".concat(e.id)},e.name))}))))}}),c.a.createElement(A.a,{path:"/location/:id",component:j})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C="opensunday.eu.auth0.com",T="5f0HY2bmYiWpe9EAeWX7mWYGKcjQvy5l",J="https://opensunday.ehealth.hevs.ch";o.a.render(c.a.createElement(f.a,{domain:C,clientId:T,redirectUri:window.location.origin,audience:J,useRefreshTokens:!0},c.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.9b894cb5.chunk.js.map